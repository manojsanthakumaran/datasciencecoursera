{
    "contents" : "## This function load all the row data from folders\n## and make them tidy, by following steps:\n## Step 1: Consolidate test and train data\n## Step 2: Take mean and standard deviation of consolidated data\n## Step 3: Merge all the dataset to one\n\n## Load a partilucar row data file\n## and return the data frame\nloadDataAsTable <- function(file) {\n    data <- read.table(file, sep=\" \", header=FALSE, fill=TRUE)\n    data\n}\n## Funtion to consolidate two row data frames\n## after finding the mean and SD\ngetConsolidatedData <- function(dt1,dt2,flg) {\n    dt3 <- mergeData(dt1,dt2)\n    data <- calcRowMeans(dt3,flg)\n    data <- calcRowSD(dt3,data,flg)\n    data\n}\n## Function to merge two data frames\nmergeData <- function(dt1,dt2) {\n    data <- merge(dt1, dt2, all=TRUE)\n    data\n}\n## Function to calculate row wise mean\ncalcRowMeans <- function(dt,flg) {\n    data <- data.frame(XYZ_Mean=rowMeans(dt,na.rm=TRUE))\n    names(data)[1] <- paste0(flg, \"_Mean\")\n    data\n}\n## Function to calculate row wise SD\ncalcRowSD <- function(dt,dest,flg) {\n    dest <- transform(dest, XYZ_SD=apply(dt, 1, sd, na.rm=TRUE))\n    names(dest)[2] <- paste0(flg,\"_SD\")\n    dest\n}\n## Function to merge two different sized data frames to one\n## after filling the missing column values to NA\ncbindWithNAFill <- function(dt1,dt2) {\n    dt1rows <- nrow(dt1)\n    dt2rows <- nrow(dt2)\n    start <- 0\n    end <- 0\n    smalldata <- dt1\n    bigdata <- dt2\n    if(dt1rows < dt2rows){\n        start <- dt1rows\n        end <- dt2rows\n        smalldata <- dt1\n        bigdata <- dt2\n    } else {\n        start <- dt2rows\n        end <- dt1rows\n        smalldata <- dt2\n        bigdata <- dt1\n    }\n    numcols <- ncol(smalldata)\n    for(i in start:end){\n        for(j in 1:numcols){\n            smalldata[i,j]=NA\n        }\n    }\n    finaldata <- cbind(smalldata,bigdata)\n    finaldata\n}\n\n## Load first set of files\ndata1 <- loadDataAsTable(\"./UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt\")\n\ndata2 <- loadDataAsTable(\"./UCI HAR Dataset/train/Inertial Signals/body_acc_x_train.txt\")\n\n## Generate consolidated data output for X value\nx_data <- getConsolidatedData(data1,data2,\"ACC_X\")\n\ndata1 <- loadDataAsTable(\"./UCI HAR Dataset/test/Inertial Signals/body_acc_y_test.txt\")\n\ndata2 <- loadDataAsTable(\"./UCI HAR Dataset/train/Inertial Signals/body_acc_y_train.txt\")\n\n## Generate consolidated data output for Y values\ny_data <- getConsolidatedData(data1,data2,\"ACC_Y\")\n\ndata1 <- loadDataAsTable(\"./UCI HAR Dataset/test/Inertial Signals/body_acc_z_test.txt\")\n\ndata2 <- loadDataAsTable(\"./UCI HAR Dataset/train/Inertial Signals/body_acc_z_train.txt\")\n\n## Generate consolidated data output for Z values\nz_data <- getConsolidatedData(data1,data2,\"ACC_Z\")\n\n## Merge all X,Y and Z data outputs to single one\ncon_data <- cbindWithNAFill(cbindWithNAFill(x_data,y_data),z_data)\n\ndata1 <- loadDataAsTable(\"./UCI HAR Dataset/test/Inertial Signals/body_gyro_x_test.txt\")\n\ndata2 <- loadDataAsTable(\"./UCI HAR Dataset/train/Inertial Signals/body_gyro_x_train.txt\")\n\nx_data <- getConsolidatedData(data1,data2,\"GYRO_X\")\n\ndata1 <- loadDataAsTable(\"./UCI HAR Dataset/test/Inertial Signals/body_gyro_y_test.txt\")\n\ndata2 <- loadDataAsTable(\"./UCI HAR Dataset/train/Inertial Signals/body_gyro_y_train.txt\")\n\ny_data <- getConsolidatedData(data1,data2,\"GYRO_Y\")\n\ndata1 <- loadDataAsTable(\"./UCI HAR Dataset/test/Inertial Signals/body_gyro_z_test.txt\")\n\ndata2 <- loadDataAsTable(\"./UCI HAR Dataset/train/Inertial Signals/body_gyro_z_train.txt\")\n\nz_data <- getConsolidatedData(data1,data2,\"GYRO_Z\")\n\n## Merge all X,Y and Z data outputs to single one\ncon_data <- cbindWithNAFill(cbindWithNAFill(cbindWithNAFill(con_data,x_data),y_data),z_data)\n\ndata1 <- loadDataAsTable(\"./UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt\")\n\ndata2 <- loadDataAsTable(\"./UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt\")\n\nx_data <- getConsolidatedData(data1,data2,\"TOTAL_X\")\n\ndata1 <- loadDataAsTable(\"./UCI HAR Dataset/test/Inertial Signals/total_acc_y_test.txt\")\n\ndata2 <- loadDataAsTable(\"./UCI HAR Dataset/train/Inertial Signals/total_acc_y_train.txt\")\n\ny_data <- getConsolidatedData(data1,data2,\"TOTAL_Y\")\n\ndata1 <- loadDataAsTable(\"./UCI HAR Dataset/test/Inertial Signals/total_acc_z_test.txt\")\n\ndata2 <- loadDataAsTable(\"./UCI HAR Dataset/train/Inertial Signals/total_acc_z_train.txt\")\n\nz_data <- getConsolidatedData(data1,data2,\"TOTAL_Z\")\n\n## Merge all X,Y and Z data outputs to single one\ncon_data <- cbindWithNAFill(cbindWithNAFill(cbindWithNAFill(con_data,x_data),y_data),z_data)\n\n## Write the final output data frame to a file\nwrite.table(con_data,file=\"final_tidy_data_out.txt\",row.name=FALSE)\n\n## Done\n",
    "created" : 1424586731520.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3119483012",
    "id" : "1F0EC3C3",
    "lastKnownWriteTime" : 1424597110,
    "path" : "~/DataScience/Course3/Workspace/Assignment/run_analysis.R",
    "project_path" : "run_analysis.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}